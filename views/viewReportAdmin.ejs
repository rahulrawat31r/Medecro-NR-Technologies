<html></html>

<head>
  <title>
    View Past Report
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--Gooogle Auth-->

  <meta name="google-signin-client_id"
    content="15064425583-h6gqtm6l884069s03jtuvn8v892u1ukj.apps.googleusercontent.com">
  <script src="https://apis.google.com/js/platform.js" async defer></script>

  <link rel='stylesheet' href='/stylesheets/admindashboard.css' />
  <link rel='stylesheet' href='/stylesheets/checkPatients.css' />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.css" rel="stylesheet" />
  <!-- MDB -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.print.min.js"></script>

  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.2/css/buttons.dataTables.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
  <style>
    .tohideip {
      display: none;
    }

    /* For Display Border on the Input Text box*/
    .textBox{
      border : 1px solid rgb(201, 201, 201);
      border-radius: 5px;
      
    }

    .list-group-flush>.list-group-item {
    border-width: 0 0 1px;
    background-color: #ff3636;
    border: 3px solid #ffffff;
    border-radius: 7px;
    color: white;
    font-family: math;
    }

    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Black with opacity */
        animation: fadeIn 0.5s forwards; /* Fade-in animation */
    }

    /* Modal Content */
    .modal-content {
        background-color: #fefefe;
        margin: 4% auto; /* 10% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Width of the modal */
        max-width: 800px; /* Max width */
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        position: relative; /* Ensure positioning context for close button */
        transform: translateY(-50px); /* Initial position for slide-down */
        opacity: 0; /* Initial opacity for fade-in */
        animation: slideDown 0.5s forwards; /* Slide-down and fade-in animation */
    }

    /* Close Button */
    .close {
        color: #aaa;
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
    }

    .viewer-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 20px 0;
    }

    .pdf-viewer {
        width: 100%;
        height: 500px;
        border: 1px solid #ccc;
        margin-bottom: 20px;
    }

    .image-viewer {
        max-width: 100%;
        max-height: 500px;
        border: 1px solid #ccc;
    }

    /* Keyframes for animations */
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @keyframes slideDown {
        from {
            transform: translateY(-50px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
        }
        to {
            opacity: 0;
        }
    }

    @keyframes slideUp {
        from {
            transform: translateY(0);
            opacity: 1;
        }
        to {
            transform: translateY(-50px);
            opacity: 0;
        }
    }

    /* Hidden state with fade-out animation */
    .hide {
        animation: fadeOut 0.5s forwards, slideUp 0.5s forwards;
    }
  </style>



  <script src="/javascripts/showproducts2.js"></script>

  
</head>

<body>
  <!--Main Navigation-->
  <header>
    <!-- Sidebar -->
    <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
      <div class="position-sticky">
        <div class="list-group list-group-flush mx-3 mt-4">
          <a href="/admin/admindashboard" class="list-group-item list-group-item-action py-2 ripple"
            aria-current="true">
            <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>Main dashboard</span>
          </a>

          <a href="/admin/showproducts" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fas fa-users fa-fw me-3"></i><span>Show Products</span></a>

          <a href="/admin/adddoctorAdmin" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-address-card fa-fw me-3"></i><span>Check Doctor</span></a>

          <a href="/admin/adduser" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-group fa-fw me-3"></i><span>Check User</span></a>

          <a href="/admin/loadchemist" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-group fa-fw me-3"></i><span>Check Chemist</span></a>

          <a href="/admin/loadstockist" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-group fa-fw me-3"></i><span>Check Stockist</span></a>


          <a href="/admin/approveSchedulePage" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-calendar-check-o fa-fw me-3"></i><span>Approve Schedule</span></a>

          <a href="/admin/fetchSchedule" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-calendar fa-fw me-3"></i><span>All User's Schedule</span></a>

          <a href="/admin/getdcr" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-calendar fa-fw me-3"></i><span>Add DCR</span></a>

          <a href="/admin/getproductimage" class="list-group-item list-group-item-action py-2 ripple"><i
              class="fa fa-file-image-o fa-fw me-3"></i><span>Product Images</span></a>


          <a
          href="/admin/changepswd"
          class="list-group-item list-group-item-action py-2 ripple"
          ><i class="fa fa-fingerprint fa-fw me-3"></i><span>Change Password</span></a
          >


        </div>
      </div>
    </nav>
    <!-- Sidebar -->

    <!-- Navbar -->
    <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
      <!-- Container wrapper -->
      <div class="container-fluid">
        <!-- Toggle button -->
        <button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#sidebarMenu"
          aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
          <i class="fas fa-bars"></i>
        </button>

        <!-- Brand -->
        <a class="navbar-brand" href="#">
          NR Technology
        </a>

        <!-- Right links -->
        <ul class="navbar-nav ms-auto d-flex flex-row">
          <!-- Notification dropdown -->


          <!-- Icon dropdown -->
          <li class="nav-item dropdown">
            <a class="nav-link me-3 me-lg-0 dropdown-toggle hidden-arrow" href="#" id="navbarDropdown" role="button"
              data-mdb-toggle="dropdown" aria-expanded="false">
              <i class="united kingdom flag m-0"></i>
            </a>
          </li>
          <li class="nav-item" style="display: flex;align-items: center;">
            <%=adminemail%>
          </li>
          <!-- Avatar -->
          <li class="nav-item dropdown">

            <a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#"
              id="navbarDropdownMenuLink" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
              <img
                src="https://media.istockphoto.com/id/1250021058/photo/neon-3d-font-blue-and-pink-neon-light-3d-rendering-letter-a.jpg?b=1&s=170667a&w=0&k=20&c=gguTWbSct8UCe-oExgUwrbo3OSy0IcSlQEwQOE8osJo="
                class="rounded-circle" height="22" alt="" loading="lazy" />
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="/admin/profile">My profile</a></li>
              <li><a class="dropdown-item" href="/admin/adminlogout">Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <!-- Container wrapper -->
    </nav>
    <!-- Navbar -->
     
  </header>
  <!--Main Navigation-->

  <main style="margin-top: 58px">
    <div class="container pt-4">
      <section class="mb-4">
        <div class="card">
          <div class="card-header" id = "condnCard"style="color:white; background-color:green;">
            <h5 class="mb-0 text-center" id="cond">
              <%=mcond%>
            </h5>
          </div>
        <div>
        <div class="card">
          <div class="card-header text-center py-3">
            <h4 class="mb-0 text-center">
              <%=pname%> - <%=page%> Years
            </h4>
          </div>
        <div>
  </section>
  

</div>
<div class="col-md-12">
  <h4 style="text-align: center;">Symptoms</h4>
</div>
<div class="contain mb-3">
  <!-- Left Side Image -->
  <div class="side">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5kcCJ3rHlDohwnXda3f84Q6zsZLLqXBNTuA&s" alt="Left Side Image">
  </div>

  <!-- Center Textarea -->

  <div class="center">
      <textarea placeholder="Enter your text here..." readonly><%=symptoms%></textarea>
  </div>

  <!-- Right Side Image -->
  <div class="side">
      <img src="data:image/jpeg;base64,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" alt="Right Side Image">
  </div>
</div>
</div>
  


<div class="card">
  <div class="card-header text-center py-3">
    <h5 class="mb-0 text-center">
      <strong>Medical Reports </strong>
    </h5>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-hover text-nowrap" id="user-table">
        <thead>
          <tr>
            <th scope="col">Token No</th>
            <th scope="col">Patient Name</th>
            <th scope="col">Appointment Date</th>
            <th scope="col">Description</th>
            <th scope="col">View Report</th>
           
          </tr>
        </thead>
        <tbody>
          
        </tbody>
      </table>
    </div>
  </div>
</div>


  <div id="viewerModal" class="modal" onclick="outsideClick(event)">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div class="viewer-container">
            <h2 id="filedesc">PDF Viewer</h2>
            <embed src="" type="application/pdf" class="pdf-viewer" id="pdfView" style="display: none;">
            <img src="" alt="Image Viewer" class="image-viewer" id="imgView" style="display: none;">
        </div>

        
    </div>
  </div>
  


  <input type="text" id="token_id" value="<%=token%>" hidden>
  

  </main>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>

 
  <!--Main layout-->


  <script>
    function openModal() {
        const modal = document.getElementById('viewerModal');
        modal.style.display = 'block';
        setTimeout(() => {
            modal.classList.remove('hide'); // Remove hide class to reset animations
        }, 10); // Slight delay to trigger animations smoothly
    }

    // Function to close the modal
    function closeModal() {
        const modal = document.getElementById('viewerModal');
        modal.classList.add('hide'); // Add hide class for closing animations
        setTimeout(() => {
            modal.style.display = 'none'; // Hide modal after animations complete
            modal.classList.remove('hide'); // Reset state for next open
        }, 500); // Time must match the animation duration
    }

    // Function to close the modal when clicking outside the modal content
    function outsideClick(event) {
        const modal = document.getElementById('viewerModal');
        if (event.target === modal) {
            closeModal();
        }
    }
    const token = document.getElementById('token_id').value ;

    function updateBg (){
      const condn = document.getElementById('cond').innerText;

      if (condn == 'Normal'){
        document.getElementById('condnCard').style.backgroundColor = 'green';
      } else if (condn == 'Critical'){
        document.getElementById('condnCard').style.backgroundColor = 'yellow';
      } else {
        document.getElementById('condnCard').style.backgroundColor = 'red';
      }
    }

    updateBg();


    function addMedicalReports (){
        const token = document.getElementById('token_id').value;
        $.ajax({
            url: '/getMedicalReports',
            type: 'POST',
            data: {'token' : token},
            success: function (data) {

                for (i = 0 ; i < data.length ; i++){
                    data[i]['file'] = `<button class="btn btn-primary" onclick="viewReport('${data[i]['files']}' , '${data[i]['description']}')">View Report</button>`;
                }

                var table = $("#user-table").DataTable();
                table.destroy();
                table = document.getElementById("user-table");
                table.innerHTML = "";
                table = document.getElementById("user-table");
                //   console.log (table.innerHTML);
                table.innerHTML = `<thead class = "table-dark">
                <tr>
                    <th scope="col">Token No</th>
                    <th scope="col">Description</th>
                    <th scope="col">View Report</th>
                </tr>
              </thead>
              <tbody id ="tableWork">
              
              </tbody>  `;
                $("#user-table").DataTable({
                dom: "Bfrtip",
                buttons: [
                ],
                responsive: true,
                data: data,
                columns: [
                    { data: "token" },
                    { data: "description" },
                    { data: "file" }
                    
                ],
                order : [[0,'desc']]
                });
            }
        });
    }

    addMedicalReports();


    /* Function to open medicaal report */
    
    function viewReport (file,  desc){
      const ext = file.slice (-3);

      if (ext == 'pdf'){
        document.getElementById('pdfView').src = `/reports/${file}`;
        document.getElementById('pdfView').style.display = 'block';
        document.getElementById('imgView').style.display = 'none';
      }

      else{
        document.getElementById('imgView').src = `/reports/${file}`;
        document.getElementById('imgView').style.display = 'block';
        document.getElementById('pdfView').style.display = 'none';
      }

      document.getElementById('filedesc').innerText = desc;

      openModal();

    }

  </script>

</body>

</html>